/*!
 * iro.js v5.2.3
 * 2016-2020 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).iro=n()}(this,function(){"use strict";var x,n,i,r,c,m={},k=[],e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function j(t,n){for(var i in n)t[i]=n[i];return t}function w(t){var n=t.parentNode;n&&n.removeChild(t)}function d(t,n,i){var r,e,u,o=arguments,l={};for(u in n)"key"==u?r=n[u]:"ref"==u?e=n[u]:l[u]=n[u];if(3<arguments.length)for(i=[i],u=3;u<arguments.length;u++)i.push(o[u]);if(null!=i&&(l.children=i),"function"==typeof t&&null!=t.defaultProps)for(u in t.defaultProps)void 0===l[u]&&(l[u]=t.defaultProps[u]);return M(t,l,r,e,null)}function M(t,n,i,r,e){r={type:t,props:n,key:i,ref:r,t:null,n:null,i:0,e:null,u:void 0,o:null,c:null,constructor:void 0,f:e};return null==e&&(r.f=r),null!=x.vnode&&x.vnode(r),r}function O(t){return t.children}function I(t,n){this.props=t,this.context=n}function A(t,n){if(null==n)return t.n?A(t.n,t.n.t.indexOf(t)+1):null;for(var i;n<t.t.length;n++)if(null!=(i=t.t[n])&&null!=i.e)return i.e;return"function"==typeof t.type?A(t):null}function u(t){(!t.u&&(t.u=!0)&&n.push(t)&&!o.p++||r!==x.debounceRendering)&&((r=x.debounceRendering)||i)(o)}function o(){for(var t;o.p=n.length;)t=n.sort(function(t,n){return t.f.i-n.f.i}),n=[],t.some(function(t){var n,i,r,e,u;t.u&&(e=(r=(n=t).f).e,(u=n.w)&&(i=[],u=N(u,r,(t=j({},r)).f=t,n.m,void 0!==u.ownerSVGElement,null!=r.c?[e]:null,i,null==e?A(r):e,r.c),h(i,r),u!=e&&function t(n){var i,r;if(null!=(n=n.n)&&null!=n.o){for(n.e=n.o.base=null,i=0;i<n.t.length;i++)if(null!=(r=n.t[i])&&null!=r.e){n.e=n.o.base=r.e;break}return t(n)}}(r)))})}function _(t,n,i,r,e,u,o,l,s,c){var f,h,a,v,d,g,p,b=r&&r.t||k,y=b.length;for(s==m&&(s=null!=o?o[0]:y?A(r,0):null),i.t=[],f=0;f<n.length;f++)if(null!=(v=i.t[f]=null==(v=n[f])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v?M(null,v,null,null,v):Array.isArray(v)?M(O,{children:v},null,null,null):null!=v.e||null!=v.o?M(v.type,v.props,v.key,null,v.f):v)){if(v.n=i,v.i=i.i+1,null===(a=b[f])||a&&v.key==a.key&&v.type===a.type)b[f]=void 0;else for(h=0;h<y;h++){if((a=b[h])&&v.key==a.key&&v.type===a.type){b[h]=void 0;break}a=null}d=N(t,v,a=a||m,e,u,o,l,s,c),(h=v.ref)&&a.ref!=h&&(p=p||[],a.ref&&p.push(a.ref,null,v),p.push(h,v.o||d,v)),null!=d?(null==g&&(g=d),s=S(t,v,a,b,o,d,s),c||"option"!=i.type?"function"==typeof i.type&&(i.u=s):t.value=""):s&&a.e==s&&s.parentNode!=t&&(s=A(a))}if(i.e=g,null!=o&&"function"!=typeof i.type)for(f=o.length;f--;)null!=o[f]&&w(o[f]);for(f=y;f--;)null!=b[f]&&function t(n,i,r){var e,u,o;if(x.unmount&&x.unmount(n),(e=n.ref)&&(e.current&&e.current!==n.e||R(e,null,i)),r||"function"==typeof n.type||(r=null!=(u=n.e)),n.e=n.u=void 0,null!=(e=n.o)){if(e.componentWillUnmount)try{e.componentWillUnmount()}catch(t){x.e(t,i)}e.base=e.w=null}if(e=n.t)for(o=0;o<e.length;o++)e[o]&&t(e[o],i,r);null!=u&&w(u)}(b[f],b[f]);if(p)for(f=0;f<p.length;f++)R(p[f],p[++f],p[++f])}function S(t,n,i,r,e,u,o){var l,s,c;if(void 0!==n.u)l=n.u,n.u=void 0;else if(e==i||u!=o||null==u.parentNode)t:if(null==o||o.parentNode!==t)t.appendChild(u),l=null;else{for(s=o,c=0;(s=s.nextSibling)&&c<r.length;c+=2)if(s==u)break t;t.insertBefore(u,o),l=o}return void 0!==l?l:u.nextSibling}function l(t,n,i){"-"===n[0]?t.setProperty(n,i):t[n]=null==i?"":"number"!=typeof i||e.test(n)?i:i+"px"}function E(t,n,i,r,e){var u,o;if(e&&"className"==n&&(n="class"),"style"===n)if("string"==typeof i)t.style.cssText=i;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(n in r)i&&n in i||l(t.style,n,"");if(i)for(n in i)r&&i[n]===r[n]||l(t.style,n,i[n])}else"o"===n[0]&&"n"===n[1]?(u=n!==(n=n.replace(/Capture$/,"")),(o=n.toLowerCase())in t&&(n=o),n=n.slice(2),t.l||(t.l={}),o=u?f:s,(t.l[n+u]=i)?r||t.addEventListener(n,o,u):t.removeEventListener(n,o,u)):"list"!==n&&"tagName"!==n&&"form"!==n&&"type"!==n&&"size"!==n&&"download"!==n&&"href"!==n&&!e&&n in t?t[n]=null==i?"":i:"function"!=typeof i&&"dangerouslySetInnerHTML"!==n&&(n!==(n=n.replace(/xlink:?/,""))?null==i||!1===i?t.removeAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase(),i):null==i||!1===i&&!/^ar/.test(n)?t.removeAttribute(n):t.setAttribute(n,i))}function s(t){this.l[t.type+!1](x.event?x.event(t):t)}function f(t){this.l[t.type+!0](x.event?x.event(t):t)}function N(t,n,i,r,e,u,o,l,s){var c,f,h,a,v,d,g,p,b,y,w=n.type;if(void 0!==n.constructor)return null;null!=i.c&&(s=i.c,l=n.e=i.e,n.c=null,u=[l]),(c=x.i)&&c(n);try{t:if("function"==typeof w){if(g=n.props,p=(c=w.contextType)&&r[c.o],b=c?p?p.props.value:c.n:r,i.o?d=(f=n.o=i.o).n=f.k:("prototype"in w&&w.prototype.render?n.o=f=new w(g,b):(n.o=f=new I(g,b),f.constructor=w,f.render=z),p&&p.sub(f),f.props=g,f.state||(f.state={}),f.context=b,f.m=r,y=f.u=!0,f.c=[]),null==f.j&&(f.j=f.state),null!=w.getDerivedStateFromProps&&(f.j==f.state&&(f.j=j({},f.j)),j(f.j,w.getDerivedStateFromProps(g,f.j))),h=f.props,a=f.state,y)null==w.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.c.push(f.componentDidMount);else{if(null==w.getDerivedStateFromProps&&g!==h&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(g,b),!f.e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(g,f.j,b)||n.f===i.f){f.props=g,f.state=f.j,n.f!==i.f&&(f.u=!1),(f.f=n).e=i.e,n.t=i.t,f.c.length&&o.push(f),function t(n,i,r){for(var e,u=0;u<n.t.length;u++)(e=n.t[u])&&(e.n=n,e.e&&("function"==typeof e.type&&1<e.t.length&&t(e,i,r),i=S(r,e,e,n.t,null,e.e,i),"function"==typeof n.type&&(n.u=i)))}(n,l,t);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(g,f.j,b),null!=f.componentDidUpdate&&f.c.push(function(){f.componentDidUpdate(h,a,v)})}f.context=b,f.props=g,f.state=f.j,(c=x.p)&&c(n),f.u=!1,f.f=n,f.w=t,c=f.render(f.props,f.state,f.context),f.state=f.j,null!=f.getChildContext&&(r=j(j({},r),f.getChildContext())),y||null==f.getSnapshotBeforeUpdate||(v=f.getSnapshotBeforeUpdate(h,a)),y=null!=c&&c.type==O&&null==c.key?c.props.children:c,_(t,Array.isArray(y)?y:[y],n,i,r,e,u,o,l,s),f.base=n.e,n.c=null,f.c.length&&o.push(f),d&&(f.k=f.n=null),f.e=!1}else null==u&&n.f===i.f?(n.t=i.t,n.e=i.e):n.e=function(t,n,i,r,e,u,o,l){var s,c,f,h,a,v=i.props,d=n.props;if(e="svg"===n.type||e,null!=u)for(s=0;s<u.length;s++)if(null!=(c=u[s])&&((null===n.type?3===c.nodeType:c.localName===n.type)||t==c)){t=c,u[s]=null;break}if(null==t){if(null===n.type)return document.createTextNode(d);t=e?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type,d.is&&{is:d.is}),u=null,l=!1}if(null===n.type)v===d||l&&t.data===d||(t.data=d);else{if(null!=u&&(u=k.slice.call(t.childNodes)),f=(v=i.props||m).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!l){if(null!=u)for(v={},a=0;a<t.attributes.length;a++)v[t.attributes[a].name]=t.attributes[a].value;(h||f)&&(h&&(f&&h.M==f.M||h.M===t.innerHTML)||(t.innerHTML=h&&h.M||""))}(function(t,n,i,r,e){for(var u in i)"children"===u||"key"===u||u in n||E(t,u,null,i[u],r);for(u in n)e&&"function"!=typeof n[u]||"children"===u||"key"===u||"value"===u||"checked"===u||i[u]===n[u]||E(t,u,n[u],i[u],r)})(t,d,v,e,l),h?n.t=[]:(s=n.props.children,_(t,Array.isArray(s)?s:[s],n,i,r,"foreignObject"!==n.type&&e,u,o,m,l)),l||("value"in d&&void 0!==(s=d.value)&&(s!==t.value||"progress"===n.type&&!s)&&E(t,"value",s,v.value,!1),"checked"in d&&void 0!==(s=d.checked)&&s!==t.checked&&E(t,"checked",s,v.checked,!1))}return t}(i.e,n,i,r,e,u,o,s);(c=x.diffed)&&c(n)}catch(t){n.f=null,!s&&null==u||(n.e=l,n.c=!!s,u[u.indexOf(l)]=null),x.e(t,n,i)}return n.e}function h(t,n){x.o&&x.o(n,t),t.some(function(n){try{t=n.c,n.c=[],t.some(function(t){t.call(n)})}catch(t){x.e(t,n.f)}})}function R(t,n,i){try{"function"==typeof t?t(n):t.current=n}catch(t){x.e(t,i)}}function z(t,n,i){return this.constructor(t,i)}x={e:function(n,t){for(var i,r,e,u=t.c;t=t.n;)if((i=t.o)&&!i.n)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),e=i.u),null!=i.componentDidCatch&&(i.componentDidCatch(n),e=i.u),e)return t.c=u,i.k=i}catch(t){n=t}throw n}},I.prototype.setState=function(t,n){var i=null!=this.j&&this.j!==this.state?this.j:this.j=j({},this.state);"function"==typeof t&&(t=t(j({},i),this.props)),t&&j(i,t),null!=t&&this.f&&(n&&this.c.push(n),u(this))},I.prototype.forceUpdate=function(t){this.f&&(this.e=!0,t&&this.c.push(t),u(this))},I.prototype.render=O,n=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o.p=0,c=m;var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",a="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",v="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",g=new RegExp("rgb"+a),p=new RegExp("rgba"+v),b=new RegExp("hsl"+a),y=new RegExp("hsla"+v),t="^(?:#?|0x?)",a="([0-9a-fA-F]{1})",v="([0-9a-fA-F]{2})",P=new RegExp(t+a+a+a+"$"),$=new RegExp(t+a+a+a+a+"$"),H=new RegExp(t+v+v+v+"$"),T=new RegExp(t+v+v+v+v+"$"),W=Math.log,C=Math.round,D=Math.floor;function F(t,n,i){return Math.min(Math.max(t,n),i)}function G(t,n){var i=-1<t.indexOf("%"),t=parseFloat(t);return i?n/100*t:t}function L(t){return parseInt(t,16)}function B(t){return t.toString(16).padStart(2,"0")}var U=function(t,n){this.$={h:0,s:0,v:0,a:1},t&&this.set(t),this.onChange=n,this.initialValue=Object.assign({},this.$)},t={hsv:{configurable:!0},hsva:{configurable:!0},hue:{configurable:!0},saturation:{configurable:!0},value:{configurable:!0},alpha:{configurable:!0},kelvin:{configurable:!0},red:{configurable:!0},green:{configurable:!0},blue:{configurable:!0},rgb:{configurable:!0},rgba:{configurable:!0},hsl:{configurable:!0},hsla:{configurable:!0},rgbString:{configurable:!0},rgbaString:{configurable:!0},hexString:{configurable:!0},hex8String:{configurable:!0},hslString:{configurable:!0},hslaString:{configurable:!0}};U.prototype.set=function(t){if("string"==typeof t)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t)?this.hexString=t:/^rgba?/.test(t)?this.rgbString=t:/^hsla?/.test(t)&&(this.hslString=t);else{if("object"!=typeof t)throw new Error("Invalid color value");t instanceof U?this.hsv=t.hsv:"object"==typeof t&&"r"in t&&"g"in t&&"b"in t?this.rgb=t:"object"==typeof t&&"h"in t&&"s"in t&&"v"in t?this.hsv=t:"object"==typeof t&&"h"in t&&"s"in t&&"l"in t&&(this.hsl=t)}},U.prototype.setChannel=function(t,n,i){this[t]=Object.assign({},this[t],((t={})[n]=i,t))},U.prototype.reset=function(){this.hsva=this.initialValue},U.prototype.clone=function(){return new U(this)},U.prototype.unbind=function(){this.onChange=void 0},U.hsvToRgb=function(t){var n=t.h/60,i=t.s/100,r=t.v/100,e=D(n),u=n-e,o=r*(1-i),t=r*(1-u*i),n=r*(1-(1-u)*i),u=e%6,i=[n,r,r,t,o,o][u],e=[o,o,n,r,r,t][u];return{r:F(255*[r,t,o,o,n,r][u],0,255),g:F(255*i,0,255),b:F(255*e,0,255)}},U.rgbToHsv=function(t){var n=t.r/255,i=t.g/255,r=t.b/255,e=Math.max(n,i,r),u=Math.min(n,i,r),o=e-u,l=0,s=e,t=0===e?0:o/e;switch(e){case u:l=0;break;case n:l=(i-r)/o+(i<r?6:0);break;case i:l=(r-n)/o+2;break;case r:l=(n-i)/o+4}return{h:60*l%360,s:F(100*t,0,100),v:F(100*s,0,100)}},U.hsvToHsl=function(t){var n=t.s/100,i=t.v/100,r=(2-n)*i,e=r<=1?r:2-r,e=e<1e-9?0:n*i/e;return{h:t.h,s:F(100*e,0,100),l:F(50*r,0,100)}},U.hslToHsv=function(t){var n=2*t.l,i=t.s*(n<=100?n:200-n)/100,r=n+i<1e-9?0:2*i/(n+i);return{h:t.h,s:F(100*r,0,100),v:F((n+i)/2,0,100)}},U.kelvinToRgb=function(t){var n,i,t=t/100,r=t<66?(n=255,i=-155.25485562709179-.44596950469579133*(i=t-2)+104.49216199393888*W(i),t<20?0:.8274096064007395*(r=t-10)-254.76935184120902+115.67994401066147*W(r)):(n=351.97690566805693+.114206453784165*(n=t-55)-40.25366309332127*W(n),i=325.4494125711974+.07943456536662342*(i=t-50)-28.0852963507957*W(i),255);return{r:F(D(n),0,255),g:F(D(i),0,255),b:F(D(r),0,255)}},U.rgbToKelvin=function(t){for(var n,i=t.r,r=t.b,e=1e3,u=4e4;.4<u-e;){n=.5*(u+e);var o=U.kelvinToRgb(n);o.b/o.r>=r/i?u=n:e=n}return n},t.hsv.get=function(){var t=this.$;return{h:t.h,s:t.s,v:t.v}},t.hsv.set=function(t){var n=this.$;if(t=Object.assign({},n,t),this.onChange){var i,r={h:!1,v:!1,s:!1,a:!1};for(i in n)r[i]=t[i]!=n[i];this.$=t,(r.h||r.s||r.v||r.a)&&this.onChange(this,r)}else this.$=t},t.hsva.get=function(){return Object.assign({},this.$)},t.hsva.set=function(t){this.hsv=t},t.hue.get=function(){return this.$.h},t.hue.set=function(t){this.hsv={h:t}},t.saturation.get=function(){return this.$.s},t.saturation.set=function(t){this.hsv={s:t}},t.value.get=function(){return this.$.v},t.value.set=function(t){this.hsv={v:t}},t.alpha.get=function(){return this.$.a},t.alpha.set=function(t){this.hsv=Object.assign({},this.hsv,{a:t})},t.kelvin.get=function(){return U.rgbToKelvin(this.rgb)},t.kelvin.set=function(t){this.rgb=U.kelvinToRgb(t)},t.red.get=function(){return this.rgb.r},t.red.set=function(t){this.rgb=Object.assign({},this.rgb,{r:t})},t.green.get=function(){return this.rgb.g},t.green.set=function(t){this.rgb=Object.assign({},this.rgb,{g:t})},t.blue.get=function(){return this.rgb.b},t.blue.set=function(t){this.rgb=Object.assign({},this.rgb,{b:t})},t.rgb.get=function(){var t=U.hsvToRgb(this.$),n=t.r,i=t.g,t=t.b;return{r:C(n),g:C(i),b:C(t)}},t.rgb.set=function(t){this.hsv=Object.assign({},U.rgbToHsv(t),{a:void 0===t.a?1:t.a})},t.rgba.get=function(){return Object.assign({},this.rgb,{a:this.alpha})},t.rgba.set=function(t){this.rgb=t},t.hsl.get=function(){var t=U.hsvToHsl(this.$),n=t.h,i=t.s,t=t.l;return{h:C(n),s:C(i),l:C(t)}},t.hsl.set=function(t){this.hsv=Object.assign({},U.hslToHsv(t),{a:void 0===t.a?1:t.a})},t.hsla.get=function(){return Object.assign({},this.hsl,{a:this.alpha})},t.hsla.set=function(t){this.hsl=t},t.rgbString.get=function(){var t=this.rgb;return"rgb("+t.r+", "+t.g+", "+t.b+")"},t.rgbString.set=function(t){var n,i,r,e,u=1;if((n=g.exec(t))?(i=G(n[1],255),r=G(n[2],255),e=G(n[3],255)):(n=p.exec(t))&&(i=G(n[1],255),r=G(n[2],255),e=G(n[3],255),u=G(n[4],1)),!n)throw new Error("Invalid rgb string");this.rgb={r:i,g:r,b:e,a:u}},t.rgbaString.get=function(){var t=this.rgba;return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},t.rgbaString.set=function(t){this.rgbString=t},t.hexString.get=function(){var t=this.rgb;return"#"+B(t.r)+B(t.g)+B(t.b)},t.hexString.set=function(t){var n,i,r,e,u=255;if((n=P.exec(t))?(i=17*L(n[1]),r=17*L(n[2]),e=17*L(n[3])):(n=$.exec(t))?(i=17*L(n[1]),r=17*L(n[2]),e=17*L(n[3]),u=17*L(n[4])):(n=H.exec(t))?(i=L(n[1]),r=L(n[2]),e=L(n[3])):(n=T.exec(t))&&(i=L(n[1]),r=L(n[2]),e=L(n[3]),u=L(n[4])),!n)throw new Error("Invalid hex string");this.rgb={r:i,g:r,b:e,a:u/255}},t.hex8String.get=function(){var t=this.rgba;return"#"+B(t.r)+B(t.g)+B(t.b)+B(D(255*t.a))},t.hex8String.set=function(t){this.hexString=t},t.hslString.get=function(){var t=this.hsl;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},t.hslString.set=function(t){var n,i,r,e,u=1;if((n=b.exec(t))?(i=G(n[1],360),r=G(n[2],100),e=G(n[3],100)):(n=y.exec(t))&&(i=G(n[1],360),r=G(n[2],100),e=G(n[3],100),u=G(n[4],1)),!n)throw new Error("Invalid hsl string");this.hsl={h:i,s:r,l:e,a:u}},t.hslaString.get=function(){var t=this.hsla;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},t.hslaString.set=function(t){this.hslString=t},Object.defineProperties(U.prototype,t);var q;function J(t){var n=t.width,i=t.sliderSize,r=t.borderWidth,e=t.handleRadius,u=t.padding,o=t.sliderShape,l="horizontal"===t.layoutDirection,i=i||2*u+2*e+2*r;return"circle"===o?{handleStart:t.padding+t.handleRadius,handleRange:n-2*u-2*e-2*r,width:n,height:n,cx:n/2,cy:n/2,radius:n/2-r/2}:{handleStart:i/2,handleRange:n-i,radius:i/2,x:0,y:0,width:l?i:n,height:l?n:i}}function K(t){var n=t.width/2;return{width:t.width,radius:n-t.borderWidth,cx:n,cy:n}}function Q(t,n,i){var r=t.wheelAngle,t=t.wheelDirection;return((n=!i&&"clockwise"===t||i&&"anticlockwise"===t?(i?180:360)-(r-n):r+n)%360+360)%360}function V(t,n,i){var r=K(t),e=r.cx,u=r.cy,r=t.width/2-t.padding-t.handleRadius-t.borderWidth;n=e-n,i=u-i;t=Q(t,Math.atan2(-i,-n)*(180/Math.PI)),i=Math.min(Math.sqrt(n*n+i*i),r);return{h:Math.round(t),s:Math.round(100/r*i)}}function X(t){var n=t.width;return{width:n,height:n,radius:t.padding+t.handleRadius}}function Y(t,n,i){var r=X(t),e=r.width,t=r.height,r=r.radius,e=(n-r)/(e-2*r)*100,r=(i-r)/(t-2*r)*100;return{s:Math.max(0,Math.min(e,100)),v:Math.max(0,Math.min(100-r,100))}}function Z(t){q=q||document.getElementsByTagName("base");var n=window.navigator.userAgent,i=/^((?!chrome|android).)*safari/i.test(n),r=/iPhone|iPod|iPad/i.test(n),n=window.location;return(i||r)&&0<q.length?n.protocol+"//"+n.host+n.pathname+n.search+t:t}function tt(t,n,i,r){for(var e=0;e<r.length;e++){var u=r[e].x-n,o=r[e].y-i;if(Math.sqrt(u*u+o*o)<t.handleRadius)return e}return null}var nt=["mousemove","touchmove","mouseup","touchend"],it=function(n){function t(t){n.call(this,t),this.uid=(Math.random()+1).toString(36).substring(5)}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype.render=function(t){var n=this.handleEvent.bind(this),i={onMouseDown:n,ontouchstart:n},r="horizontal"===t.layoutDirection,e=null===t.margin?t.sliderMargin:t.margin,n={overflow:"visible",display:r?"inline-block":"block"};return 0<t.index&&(n[r?"marginLeft":"marginTop"]=e),d(O,null,t.children(this.uid,i,n))},t.prototype.handleEvent=function(t){var n=this,i=this.props.onInput,r=this.base.getBoundingClientRect();t.preventDefault();var e=t.touches?t.changedTouches[0]:t,u=e.clientX-r.left,r=e.clientY-r.top;switch(t.type){case"mousedown":case"touchstart":nt.forEach(function(t){document.addEventListener(t,n,{passive:!1})}),i(u,r,0);break;case"mousemove":case"touchmove":i(u,r,1);break;case"mouseup":case"touchend":i(u,r,2),nt.forEach(function(t){document.removeEventListener(t,n)})}},t}(I);function rt(t){var n=t.r,i=t.url;return d("svg",{className:"IroHandle IroHandle--"+t.index+" "+(t.isActive?"IroHandle--isActive":""),x:t.x,y:t.y,style:{overflow:"visible"}},i&&d("use",Object.assign({xlinkHref:Z(i)},t.props)),!i&&d("circle",{r:n,fill:"none","stroke-width":2,stroke:"#000"}),!i&&d("circle",{r:n-2,fill:t.fill,"stroke-width":2,stroke:"#fff"}))}function et(t,n){var i=J(t),r=i.width,e=i.height,u=i.handleRange,o=i.handleStart,i="horizontal"===t.layoutDirection,e=i?r/2:e/2,n=o+function(t,n){var i=n.hsva,r=n.rgb,e=n.hsl;switch(t.sliderType){case"red":return r.r/2.55;case"green":return r.g/2.55;case"blue":return r.b/2.55;case"alpha":return 100*i.a;case"kelvin":r=t.minTemperature,t=t.maxTemperature-r,t=(n.kelvin-r)/t*100;return Math.max(0,Math.min(t,100));case"hue":return i.h/=3.6;case"saturation":return e.s;case"value":default:return i.v}}(t,n)/100*u;return i&&(n=-1*n+u+2*o),{x:i?e:n,y:i?n:e}}function ut(r){var t=r.activeIndex,e=void 0!==t&&t<r.colors.length?r.colors[t]:r.color,t=J(r),u=t.width,o=t.height,l=t.radius,s=et(r,e),c=function(t,n){var i=n.hsv,r=n.rgb;switch(t.sliderType){case"red":return[[0,"rgb(0,"+r.g+","+r.b+")"],[100,"rgb(255,"+r.g+","+r.b+")"]];case"green":return[[0,"rgb("+r.r+",0,"+r.b+")"],[100,"rgb("+r.r+",255,"+r.b+")"]];case"blue":return[[0,"rgb("+r.r+","+r.g+",0)"],[100,"rgb("+r.r+","+r.g+",255)"]];case"alpha":return[[0,"rgba("+r.r+","+r.g+","+r.b+",0)"],[100,"rgb("+r.r+","+r.g+","+r.b+")"]];case"kelvin":for(var e=[],r=t.minTemperature,u=t.maxTemperature,o=u-r,l=r,s=0;l<u;l+=o/8,s+=1){var c=U.kelvinToRgb(l),f=c.r,h=c.g,c=c.b;e.push([12.5*s,"rgb("+f+","+h+","+c+")"])}return e;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":return[[0,"hsl("+n.hsl.h+","+0+"%,"+n.hsl.l+"%)"],[100,"hsl("+n.hsl.h+","+100+"%,"+n.hsl.l+"%)"]];case"value":default:i=U.hsvToHsl({h:i.h,s:i.s,v:100});return[[0,"#000"],[100,"hsl("+i.h+","+i.s+"%,"+i.l+"%)"]]}}(r,e),f="alpha"===r.sliderType;return d(it,Object.assign({},r,{onInput:function(t,n,i){t=function(t,n,i){var r=(e=J(t)).handleRange,e=e.handleStart,e="horizontal"===t.layoutDirection?-1*i+r+e:n-e;switch(e=Math.max(Math.min(e,r),0),r=Math.round(100/r*e),t.sliderType){case"kelvin":e=t.minTemperature;return e+r/100*(t.maxTemperature-e);case"alpha":return r/100;case"hue":return 3.6*r;case"red":case"blue":case"green":return 2.55*r;default:return r}}(r,t,n),r.parent.inputActive=!0,n=e.hsl,"saturation"===r.sliderType?e.hsl={h:n.h,s:t,l:n.l}:e[r.sliderType]=t,r.onInput(i)}}),function(t,n,i){return d("svg",Object.assign({},n,{className:"IroSlider",width:u,height:o,style:i}),d("defs",null,d("linearGradient",Object.assign({id:"g"+t},{x1:"0%",y1:(i="horizontal"===(i=r).layoutDirection)?"100%":"0%",x2:i?"0%":"100%",y2:"0%"}),c.map(function(t){return d("stop",{offset:t[0]+"%","stop-color":t[1]})})),f&&d("pattern",{id:"b"+t,width:"8",height:"8",patternUnits:"userSpaceOnUse"},d("rect",{x:"0",y:"0",width:"8",height:"8",fill:"#fff"}),d("rect",{x:"0",y:"0",width:"4",height:"4",fill:"#ccc"}),d("rect",{x:"4",y:"4",width:"4",height:"4",fill:"#ccc"})),f&&d("pattern",{id:"f"+t,width:"100%",height:"100%"},d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+Z("#b"+t)+")"}),d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+Z("#g"+t)+")"}))),d("rect",{className:"IroSliderBg",rx:l,ry:l,x:r.borderWidth/2,y:r.borderWidth/2,width:u-r.borderWidth,height:o-r.borderWidth,"stroke-width":r.borderWidth,stroke:r.borderColor,fill:"url("+Z((f?"#f":"#g")+t)+")"}),d(rt,{isActive:!0,index:e.index,r:r.handleRadius,url:r.handleSvg,props:r.handleProps,x:s.x,y:s.y}))})}function ot(e){var t=X(e),r=t.width,u=t.height,o=t.radius,l=e.colors,s=e.parent,t=e.activeIndex,c=void 0!==t&&t<e.colors.length?e.colors[t]:e.color,f=[[[0,"#fff"],[100,"hsl("+c.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]],h=l.map(function(t){return i=t,t=(r=X(n=e)).width,n=r.height,r=r.radius,i=i.hsv,t-=2*r,n-=2*r,{x:r+i.s/100*t,y:r+(n-i.v/100*n)};var n,i,r});return d(it,Object.assign({},e,{onInput:function(t,n,i){var r;0===i?null!==(r=tt(e,t,n,h))?s.setActiveColor(r):(s.inputActive=!0,c.hsv=Y(e,t,n),e.onInput(i)):1===i&&(s.inputActive=!0,c.hsv=Y(e,t,n)),e.onInput(i)}}),function(t,n,i){return d("svg",Object.assign({},n,{className:"IroBox",width:r,height:u,style:i}),d("defs",null,d("linearGradient",{id:"s"+t,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},f[0].map(function(t){return d("stop",{offset:t[0]+"%","stop-color":t[1]})})),d("linearGradient",{id:"l"+t,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},f[1].map(function(t){return d("stop",{offset:t[0]+"%","stop-color":t[1]})})),d("pattern",{id:"f"+t,width:"100%",height:"100%"},d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+Z("#s"+t)+")"}),d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+Z("#l"+t)+")"}))),d("rect",{rx:o,ry:o,x:e.borderWidth/2,y:e.borderWidth/2,width:r-e.borderWidth,height:u-e.borderWidth,"stroke-width":e.borderWidth,stroke:e.borderColor,fill:"url("+Z("#f"+t)+")"}),l.filter(function(t){return t!==c}).map(function(t){return d(rt,{isActive:!1,index:t.index,fill:t.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:h[t.index].x,y:h[t.index].y})}),d(rt,{isActive:!0,index:c.index,fill:c.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:h[c.index].x,y:h[c.index].y}))})}rt.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},ut.defaultProps=Object.assign({},{sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3});var lt=Array.apply(null,{length:360}).map(function(t,n){return n});function st(l){var t=K(l),r=t.width,s=t.radius,c=t.cx,f=t.cy,e=l.colors,u=l.borderWidth,o=l.parent,h=l.color,a=h.hsl,v=e.map(function(t){return n=l,r=(i=t).hsl,e=(u=K(n)).cx,t=u.cy,i=n.width/2-n.padding-n.handleRadius-n.borderWidth,u=(180+Q(n,r.h,!0))*(Math.PI/180),i=r.s/100*i,n="clockwise"===n.wheelDirection?-1:1,{x:e+i*Math.cos(u)*n,y:t+i*Math.sin(u)*n};var n,i,r,e,u});return d(it,Object.assign({},l,{onInput:function(t,n,i){var r;0===i?null!==(r=tt(l,t,n,v))?o.setActiveColor(r):(o.inputActive=!0,h.hsl=Object.assign({},V(l,t,n),{l:a.l}),l.onInput(i)):1===i&&(o.inputActive=!0,console.log(Object.assign({},V(l,t,n),{l:a.l})),h.hsl=Object.assign({},V(l,t,n),{l:a.l})),l.onInput(i)}}),function(t,n,i){return d("svg",Object.assign({},n,{className:"IroWheel",width:r,height:r,style:i}),d("defs",null,d("radialGradient",{id:t},d("stop",{offset:"0%","stop-color":"#808080"}),d("stop",{offset:"100%","stop-color":"#fff","stop-opacity":"0"}))),d("g",{className:"IroWheelHue","stroke-width":s,fill:"none"},lt.map(function(t){return d("path",{key:t,d:(n=c,i=f,r=s/2,o=(u=(e=t)+1.5)-e<=180?0:1,e*=Math.PI/180,u*=Math.PI/180,"M "+(n+r*Math.cos(u))+" "+(i+r*Math.sin(u))+" A "+r+" "+r+" 0 "+o+" 0 "+(n+r*Math.cos(e))+" "+(i+r*Math.sin(e))),stroke:"hsl("+Q(l,t)+", 100%, 50%)"});var n,i,r,e,u,o})),d("circle",{className:"IroWheelSaturation",cx:c,cy:f,r:s,fill:"url("+Z("#"+t)+")"}),l.wheelLightness&&d("circle",{className:"IroWheelLightness",cx:c,cy:f,r:s,fill:"#000",opacity:1-a.l/100}),d("circle",{className:"IroWheelBorder",cx:c,cy:f,r:s,fill:"none",stroke:l.borderColor,"stroke-width":u}),e.filter(function(t){return t!==h}).map(function(t){return d(rt,{isActive:!1,index:t.index,fill:t.hslString,r:l.handleRadius,url:l.handleSvg,props:l.handleProps,x:v[t.index].x,y:v[t.index].y})}),d(rt,{isActive:!0,index:h.index,fill:h.hslString,r:l.handleRadius,url:l.handleSvg,props:l.handleProps,x:v[h.index].x,y:v[h.index].y}))})}var ct=function(i){function t(t){var n=this;i.call(this,t),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=t.id,(0<t.colors.length?t.colors:[t.color]).forEach(function(t){return n.addColor(t)}),this.setActiveColor(0),this.state=Object.assign({},t,{color:this.color,colors:this.colors,layout:t.layout})}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.addColor=function(t,n){void 0===n&&(n=this.colors.length);t=new U(t,this.onColorChange.bind(this));this.colors.splice(n,0,t),this.colors.forEach(function(t,n){return t.index=n}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",t)},t.prototype.removeColor=function(t){t=this.colors.splice(t,1)[0];t.unbind(),this.colors.forEach(function(t,n){return t.index=n}),this.state&&this.setState({colors:this.colors}),t.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",t)},t.prototype.setActiveColor=function(t){this.color=this.colors[t],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},t.prototype.setColors=function(t){var n=this;this.colors.forEach(function(t){return t.unbind()}),this.colors=[],t.forEach(function(t){return n.addColor(t)}),this.setActiveColor(0),this.emit("color:setAll",this.colors)},t.prototype.on=function(t,n){var i=this,r=this.events;(Array.isArray(t)?t:[t]).forEach(function(t){(r[t]||(r[t]=[])).push(n),i.deferredEvents[t]&&(i.deferredEvents[t].forEach(function(t){n.apply(null,t)}),i.deferredEvents[t]=[])})},t.prototype.off=function(t,n){var i=this;(Array.isArray(t)?t:[t]).forEach(function(t){t=i.events[t];t&&t.splice(t.indexOf(n),1)})},t.prototype.emit=function(t){for(var n=this,i=[],r=arguments.length-1;0<r--;)i[r]=arguments[r+1];var e=this.activeEvents;!!e.hasOwnProperty(t)&&e[t]||(e[t]=!0,(this.events[t]||[]).forEach(function(t){return t.apply(n,i)}),e[t]=!1)},t.prototype.deferredEmit=function(t){for(var n,i=[],r=arguments.length-1;0<r--;)i[r]=arguments[r+1];var e=this.deferredEvents;(n=this).emit.apply(n,[t].concat(i)),(e[t]||(e[t]=[])).push(i)},t.prototype.setOptions=function(t){this.setState(Object.assign({},this.state,t))},t.prototype.resize=function(t){this.setOptions({width:t})},t.prototype.reset=function(){this.colors.forEach(function(t){return t.reset()}),this.setState({colors:this.colors})},t.prototype.onMount=function(t){this.el=t,this.deferredEmit("mount",this)},t.prototype.onColorChange=function(t,n){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",t,n)),this.emit("color:change",t,n)},t.prototype.emitInputEvent=function(t){0===t?this.emit("input:start",this.color):1===t?this.emit("input:move",this.color):2===t&&this.emit("input:end",this.color)},t.prototype.render=function(t,r){var e=this,n=r.layout;return Array.isArray(n)||(n=[{component:st},{component:ut}],r.transparency&&n.push({component:ut,options:{sliderType:"alpha"}})),d("div",{class:"IroColorPicker",id:r.id,style:{display:r.display}},n.map(function(t,n){var i=t.component,t=t.options;return d(i,Object.assign({},r,t,{ref:void 0,onInput:e.emitInputEvent.bind(e),parent:e,index:n}))}))},t}(I);ct.defaultProps=Object.assign({},{width:300,height:300,handleRadius:8,handleSvg:null,handleProps:{x:0,y:0},color:"#fff",colors:[],borderColor:"#fff",borderWidth:0,wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",layoutDirection:"vertical",sliderSize:null,sliderMargin:12,padding:6},{colors:[],display:"block",id:null,layout:"default",margin:null});var ft,ht,v=(at.prototype=(ft=ct).prototype,Object.assign(at,ft),at.O=ft,at);function at(n,t){var i,r,e,u,o,l=document.createElement("div");function s(){var t=n instanceof Element?n:document.querySelector(n);t.appendChild(i.base),i.onMount(t)}return r=d(ft,Object.assign({},{ref:function(t){return i=t}},t)),e=l,x.n&&x.n(r,e),t=(o=u===c)?null:u&&u.t||e.t,r=d(O,null,[r]),l=[],N(e,(!o&&u||e).t=r,t||m,m,void 0!==e.ownerSVGElement,u&&!o?[u]:!t&&e.childNodes.length?k.slice.call(e.childNodes):null,l,u||m,o),h(l,r),"loading"!==document.readyState?s():document.addEventListener("DOMContentLoaded",s),i}return(t=ht=ht||{}).version="5.2.3",t.Color=U,t.ColorPicker=v,(t=t.ui||(t.ui={})).h=d,t.ComponentBase=it,t.Handle=rt,t.Slider=ut,t.Wheel=st,t.Box=ot,ht});
